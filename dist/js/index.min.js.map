{"version":3,"sources":["../../config-wrap-start-default.js","../../node_modules/almond/almond.js","modules/d1.js","vendor/goScroll.js","app.js","modules/pageTpl.js","vendor/xhr.js","modules/gist-handle.js","modules/Page.js","modules/Grid.js","index.js"],"names":["requirejs","require","define","undef","hasProp","obj","prop","hasOwn","call","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","i","j","part","normalizedBaseParts","baseParts","split","map","config","starMap","length","nodeIdCompat","jsSuffixRegExp","test","replace","charAt","slice","concat","splice","join","makeRequire","relName","forceSync","args","aps","arguments","push","req","apply","makeNormalize","makeLoad","depName","value","defined","callDep","waiting","defining","main","Error","splitPrefix","prefix","index","indexOf","substring","makeRelParts","makeConfig","makeMap","handlers","Object","prototype","hasOwnProperty","relParts","plugin","parts","relResourceName","f","n","pr","p","exports","e","module","id","uri","deps","callback","cjsModule","ret","usingExports","callbackType","load","undefined","alt","setTimeout","cfg","_defined","amd","jQuery","w","window","navigator","D","scrDensity","devicePixelRatio","isTouch","MaxTouchPoints","msMaxTouchPoints","isIE9","nav","userAgent","toLowerCase","parseInt","debounce","func","wait","immediate","timeout","context","this","clearTimeout","parent","element","tagname","tagName","parentNode","elementArray","nodeList","Array","elementIndex","node","previousElementSibling","d","easeOutQuad","t","b","c","Math","round","position","el","top","offsetParent","offsetTop","listen","scrolling","go","options","scroll","now","Date","targetTime","handleScroll","startTime","startPos","distance","duration","requestAnimationFrame","targetPos","offset","removeEventListener","stopEvent","body","className","css_regex","to","nodeType","abs","speed","SPEED","y","scrollTop","scrollTo","CLASSNAME","addEventListener","RegExp","createElement","onmousewheel","goScroll","document","d1","util","initial","views","data","mail","resolution","max","screen","width","height","hasHistory","history","pushState","state","showingContact","initialize","initialState","closeBtn","getElementById","contactBtn","track","setSizable","bindHandlers","self","preventDefault","closePage","toggleContact","currentTarget","readyState","onLoad","insertMail","wWidth","navMobile","shiftPages","a","addr","txt","createTextNode","href","appendChild","setHistory","time","getTime","resetDocument","title","url","handlePopState","grid","launchPage","siteTitle","_paq","toggleCloseBtn","show","activeColumn","classList","shrinkColumn","button","clientHeight","toggleContactVisibility","innerHTML","btn","target","getAttribute","querySelector","remove","currentPage","replaceState","style","transform","add","innerWidth","gridWidth","clientWidth","u","g","s","getElementsByTagName","type","async","defer","src","insertBefore","allowImg","image","slug","date","content","m","html","liString","li","videoSources","media","meta","l","mime","poster","ajax","xmlRe","jsonRe","getData","accepts","xhr","getResponseHeader","responseXML","responseText","JSON","parse","isValid","status","location","protocol","end","resolve","reject","error","headers","Accept","success","key","XMLHttpRequest","PromiseFn","Promise","promise","res","rej","contentType","query","encodeURIComponent","sep","onreadystatechange","open","allTypes","xhrAccepts","*","text","xml","json","setRequestHeader","dataType","beforeSend","send","createHandler","response","insertStyleSheet","insert","wrap","div","nextSibling","removeChild","stylesheet","linkTag","head","rel","firstChild","extractId","pop","handleGist","r","getElementsByClassName","tag","app","templates","gistHandle","Page","getActiveItem","column","getContentColumn","isSingle","pageLoad","gaTrackVideo","fetch","getTitle","item","textContent","render","errors","toString","toUpperCase","evalGists","tags","forEach","destroy","videos","sentWatched","sentPlay","play","currentSrc","ga","watched","currentTime","mouseTick","isShowingThumb","requestMouseMoveUpdate","ctx","showHoverImage","Grid","items","querySelectorAll","thumb","onTransitionEnd","itemClickHandle","contains","back","hideThumb","itemMouseMoveHandle","itemMouseOutHandle","pageY","left","pageX","setThumb","display","property","propertyName","onColumnExpanded","onColumnShrunk","contentColumn","label","unsetActiveItem","activeColumnIndex","page","shiftGrid","expandColumn","parentColumn","forBlog","leftShift","ceil","mobileGridShift","columnIndex","toggleColumnVisibility","overrideColumnID","shift","cols","activeIndex","loc","pathname","baseUrl","paths","isWin","platform","match"],"mappings":"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","file":"index.min.js","sourcesContent":["(function () {\n","/**\n * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.\n * Released under MIT license, http://github.com/requirejs/almond/LICENSE\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part, normalizedBaseParts,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name) {\n            name = name.split('/');\n            lastIndex = name.length - 1;\n\n            // If wanting node ID compatibility, strip .js from end\n            // of IDs. Have to do this here, and not in nameToUrl\n            // because node allows either .js or non .js to map\n            // to same file.\n            if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n            }\n\n            // Starts with a '.' so need the baseName\n            if (name[0].charAt(0) === '.' && baseParts) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that 'directory' and not name of the baseName's\n                //module. For instance, baseName of 'one/two/three', maps to\n                //'one/two/three.js', but we want the directory, 'one/two' for\n                //this normalization.\n                normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                name = normalizedBaseParts.concat(name);\n            }\n\n            //start trimDots\n            for (i = 0; i < name.length; i++) {\n                part = name[i];\n                if (part === '.') {\n                    name.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i === 1 && name[2] === '..') || name[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        name.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n            //end trimDots\n\n            name = name.join('/');\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            var args = aps.call(arguments, 0);\n\n            //If first arg is not require('string'), and there is only\n            //one arg, it is the array form without a callback. Insert\n            //a null so that the following concat is correct.\n            if (typeof args[0] !== 'string' && args.length === 1) {\n                args.push(null);\n            }\n            return req.apply(undef, args.concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    //Creates a parts array for a relName where first part is plugin ID,\n    //second part is resource ID. Assumes relName has already been normalized.\n    function makeRelParts(relName) {\n        return relName ? splitPrefix(relName) : [];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relParts) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0],\n            relResourceName = relParts[1];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relResourceName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relResourceName));\n            } else {\n                name = normalize(name, relResourceName);\n            }\n        } else {\n            name = normalize(name, relResourceName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i, relParts,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n        relParts = makeRelParts(relName);\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relParts);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, makeRelParts(callback)).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n        if (typeof name !== 'string') {\n            throw new Error('See almond README: incorrect module build, no module name');\n        }\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"/Users/Arnaud/Sites/db-5/node_modules/almond/almond.js\", function(){});\n\n","define('d1',[], function () {\n    'use strict';\n\n    var w = window,\n        navigator = w.navigator,\n        D = {\n            scrDensity: 'devicePixelRatio' in w ? w.devicePixelRatio : 1,\n            isTouch: 'ontouchstart' in w || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0\n        };\n\n    /*\n     |--------------------------------------------------------------------------\n     | Utilities\n     |--------------------------------------------------------------------------\n     |\n     |\n     */\n\n    D.isIE9 = function () {\n        var nav = navigator.userAgent.toLowerCase();\n        return ( nav.indexOf('msie') !== -1 ) ? parseInt( nav.split('msie')[1] ) === 9 : false;\n    };\n\n    D.debounce = function (func, wait, immediate) {\n        var timeout;\n        return function() {\n            var context = this, args = arguments;\n            clearTimeout(timeout);\n            timeout = setTimeout(function() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            }, wait);\n            if (immediate && !timeout) func.apply(context, args);\n        };\n    };\n\n    /*\n     |--------------------------------------------------------------------------\n     | DOM functions\n     |--------------------------------------------------------------------------\n     |\n     |\n     */\n\n    D.parent = function( element, tagname ) {\n        tagname = tagname.toLowerCase();\n        do {\n            if (element.tagName.toLowerCase() === tagname)\n                return element;\n        } while (element = element.parentNode);\n        return null;\n    };\n\n    D.elementArray = function ( nodeList ) {\n        return Array.prototype.slice.call( nodeList );\n    };\n\n    D.elementIndex = function ( node ) {\n        var index = 0;\n        while ( node = node.previousElementSibling ) {\n            index++;\n        }\n        return index;\n    };\n\n    return D;\n});\n","(function ( w, d, undefined ) {\n    'use strict';\n\n    var CLASSNAME = 'auto-scrolling',   // className for body element while scrolling\n        SPEED     = 2,                  // default speed\n\n        scrolling = 0,                  // are-we-scrolling flag\n        css_regex = new RegExp( '(?:^|\\\\s)'+CLASSNAME+'(?!\\\\S)', 'gi' ),    // to remove the body className after scrolling\n\n        // if we are using a touch screen use touch start,\n        // else find a wheel event to stop the animation.\n        stopEvent = 'ontouchstart' in w || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0\n                ? 'touchstart'\n                : 'onwheel' in d.createElement( 'div' )\n                    ? 'wheel'                           // ie9+, sf7.0+, ff17.0+, ch31\n                    : d.onmousewheel !== undefined\n                        ? 'mousewheel'                  // ie6+, sf3.0+, ch1.0+\n                        : 'DOMMouseScroll';\n\n    // easing function\n    function easeOutQuad ( t, b, c, d ) {\n        return Math.round( -c *(t/=d)*(t-2) + b );\n    }\n\n    // find the position on an element\n    function position ( el, context ) {\n        var top = 0;\n        if ( el.offsetParent ) {\n            do {\n                top += el.offsetTop;\n            } while ( ( el.offsetParent != context ) && ( el = el.offsetParent ) )\n        }\n        return top;\n    }\n\n    // set are-we-scrolling flag stopEvent handler\n    function listen() { scrolling = 0; }\n\n    function go ( options ) {\n        options = options || {};\n\n        var context = options.context || w,// default context is the window, else a given element\n            targetPos = options.to && options.to.nodeType === 1 ? position(options.to, context) : (options.to || 0),\n            startPos = context[ options.context ? 'scrollTop' : 'pageYOffset' ],\n            distance = (targetPos - (options.offset || 0)) - startPos,\n            startTime = Date.now(),\n            duration = Math.abs( distance / (options.speed || SPEED) ),\n            targetTime = startTime + duration,\n            callback = options.callback,\n            handleScroll = options.context\n                ? function ( y ) { context.scrollTop = y; }\n                : function ( y ) { context.scrollTo( 0, y ); };\n\n        function scroll () {\n            var now = Date.now();\n            \n            // scroll for some time\n            if ( scrolling && now <= targetTime ) {\n                handleScroll( easeOutQuad( now - startTime, startPos, distance, duration ) );\n                w.requestAnimationFrame( scroll );\n                return;\n            }\n\n            // time's up\n            // if the animation is still running,\n            // be certain we reached our target position.\n            if ( scrolling ) {\n                w.requestAnimationFrame(function() { handleScroll(targetPos - (options.offset || 0)); });\n            }\n            // callback\n            if ( typeof callback === \"function\" ) {\n                callback.call( context, scrolling );\n            }\n            // remove the stop event handler\n            context.removeEventListener( stopEvent, listen );\n            // remove the body class\n            d.body.className = d.body.className.replace( css_regex, '' );\n        }\n\n        scrolling = 1;                                  // wave the flag\n        d.body.className += ' ' + CLASSNAME;            // we-are-scrolling className\n        context.addEventListener( stopEvent, listen );  // let the user stop the animation\n        w.requestAnimationFrame( scroll );              // go!\n    }\n\n    // UMD\n    if (typeof define === 'function' && define.amd) {\n        define('goScroll',[], function(){ return go; });\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = go;\n    } else {\n        window.goScroll = go;\n    }\n} ( window, document ) );\n\n","define('app',[\n    'd1',\n    'goScroll'\n], function ( d1, goScroll ) {\n    'use strict';\n\n    var w = window,\n        d = w.document;\n\n    return {\n\n        util : d1,\n        initial: {},\n        views : {},\n        data : {},\n        mail: ['hello', 'dotburo', 'org'],\n        resolution : Math.max( screen.width, screen.height ) * d1.scrDensity,\n        hasHistory : w.history && w.history.pushState && w.history.state !== undefined,\n        showingContact: 0,\n        \n        initialize : function ( initialState ) {\n            \n            this.initial = initialState;\n            this.closeBtn = d.getElementById( 'btn-close' );\n            this.contactBtn = d.getElementById( 'btn-contact' );\n\n            this.track();\n            this.setSizable();\n            this.bindHandlers();\n            this.load();\n        },\n\n        bindHandlers : function () {\n            var self = this;\n            this.closeBtn.addEventListener( 'click', function(e){\n                e.preventDefault();\n                self.closePage( 1 );\n            });\n            this.contactBtn.addEventListener( 'click', function(e){\n                self.toggleContact( e.currentTarget );\n                e.preventDefault();\n            });\n            w.addEventListener( 'resize', d1.debounce( function(){ self.setSizable(); }, 200 ));\n        },\n        \n        load : function () {\n            var self = this;\n            if ( d.readyState === 'complete' ) {\n                self.onLoad();\n            } else {\n                w.addEventListener( 'load', function () { self.onLoad(); } );\n            }\n        },\n\n        onLoad : function () {\n            var self = this;\n\n            self.insertMail();\n\n            if ( self.wWidth <= 780 ) {\n                this.navMobile = d.getElementById( 'nav-mobile' );\n                this.navMobile.addEventListener( 'click', function(e){\n                    self.shiftPages(e);\n                });\n            }\n        },\n\n        insertMail : function () {\n            var el = d.getElementById( 'mail' ),\n                a = d.createElement( 'a' ),\n                addr = this.mail[0] + '@' + this.mail[1] + '.' + this.mail[2],\n                txt = d.createTextNode( addr );\n            a.href = 'mailto:' + addr;\n            a.appendChild( txt );\n            el.appendChild( a );\n        },\n\n        /**\n         * Push state.\n         * @param state\n         */\n        setHistory : function ( state ) {\n\n            state.time = (new Date()).getTime();\n            this.resetDocument( state );\n\n            if ( this.hasHistory ) {\n                w.history.pushState( state, state.title, state.url );\n            }\n        },\n\n        /**\n         * Pop state\n         * @param state\n         */\n        handlePopState : function ( state ) {\n\n            state.time = (new Date()).getTime();\n            this.resetDocument( state );\n\n            if ( !state.id ) {\n                this.closePage( 0 );\n            } else {\n                this.views.grid.launchPage( d.getElementById( state.id ), state );\n            }\n        },\n\n        /**\n         * Set doc title & send to Google Analytics.\n         * @param state\n         */\n        resetDocument : function ( state ) {\n            d.title = state.url === '/'\n                ? this.initial.siteTitle\n                : state.title + ' _ ' + this.initial.siteTitle;\n\n            if ( w._paq ) {\n                w._paq.push(['setGenerationTimeMs', 0]);\n                w._paq.push(['setCustomUrl', state.url]);\n                w._paq.push(['setDocumentTitle', d.title]);\n                w._paq.push(['trackPageView']);\n            }\n        },\n        \n        toggleCloseBtn : function ( show, test ) {\n            if ( test ) {\n                show = this.views.grid.activeColumn ? 1 : 0;\n            }\n            this.closeBtn.classList[ show ? 'remove' : 'add' ]( 'hide' );\n        },\n\n        closePage : function ( setHistory ) {\n            this.toggleCloseBtn( 0 );\n            this.views.grid.shrinkColumn();\n            if ( setHistory ) {\n                this.setHistory({\n                    id : null,\n                    title : this.initial.title,\n                    url : '/'\n                });\n            }\n        },\n\n        toggleContact : function ( button ) {\n            var self = this,\n                scrollTo;\n\n            if ( self.showingContact ) {\n                scrollTo = 0;\n                self.toggleCloseBtn( 1, true );\n            } else {\n                scrollTo = d.getElementById( 'pages' ).clientHeight;\n                self.toggleContactVisibility( 1 );\n                this.toggleCloseBtn( 0 );\n            }\n\n            self.showingContact = !self.showingContact;\n\n            goScroll({\n                to : scrollTo,\n                speed: 3,\n                context : d.getElementById( 'pages' ),\n                callback : function () {\n                    if ( !self.showingContact ) {\n                        self.toggleContactVisibility(0);\n                        button.innerHTML = 'contact';\n                    } else {\n                        button.innerHTML = 'back';\n                    }\n                }\n            });\n        },\n\n        toggleContactVisibility : function ( show ) {\n            d.getElementById('contact').parentNode.classList[ show ? 'remove' : 'add' ]( 'invisible' );\n        },\n\n        shiftPages : function ( e ) {\n            var btn = e.target,\n                id;\n\n            if ( btn.tagName.toLowerCase() === 'button' ) {\n\n                id = +btn.getAttribute('data-id');\n\n                this.navMobile.querySelector('.active').classList.remove('active');\n\n                if ( id !== this.currentPage ) {\n                    this.currentPage = id;\n                    this.toggleCloseBtn( 0 );\n                    this.views.grid.shrinkColumn( id +1 );\n                    w.history.replaceState( this.initial, this.initial.siteTitle, '/' );\n                    this.views.grid.el.style.transform = 'translate3d(-'+(id*25)+'%,0,0)';\n                    btn.classList.add('active');\n                }\n            }\n        },\n\n        setSizable : function () {\n            this.wWidth = w.innerWidth;\n            this.gridWidth = this.views.grid.el.clientWidth;\n        },\n\n        track : function () {\n            var u=\"https://analytics.dotburo.org/\",\n                d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n\n            g.type='text/javascript';\n            g.async=true;\n            g.defer=true;\n            g.src=u+'piwik.js';\n\n            w._paq = w._paq || [];\n            w._paq.push(['setDoNotTrack', true]);\n            w._paq.push(['trackPageView']);\n            w._paq.push(['enableLinkTracking']);\n            w._paq.push(['setTrackerUrl', u+'piwik.php']);\n            w._paq.push(['setSiteId', '1']);\n\n            s.parentNode.insertBefore(g,s);\n        }\n    };\n});\n","define('templates',[], function () {\n\n    return {\n        allowImg : function ( image ) {\n            return image && !/-posterframe\\./.test( image ) ? image : null\n        },\n\n        main : function ( title, slug, image, date ) {\n            return '<main data-slug=\"'+ slug +'\">'\n                        + '<article><header>'\n                            + (date ? '<p class=\"title-small\"><time>' + date + '</time></p>' : '')\n                            + '<h2>' + title + '</h2></header>'\n                            + ( this.allowImg( image )\n                                ? '<img src=\"' + image + '\" alt=\"' + title + '\">'\n                                : '' )\n                            + '<div class=\"xhr-root\"><p class=\"about\">Loading...</p></div>'\n                        + '</article>'\n                 + '</main>';\n        },\n\n        content : function ( data ) {\n            var html = '',\n                liString = '',\n                li = [], i = 0,\n                videoSources = '', m, j,\n                media = data.meta && data.meta.media ? data.meta.media : [],\n                l = media.length;\n\n            if ( data.content ) {\n                html = '<div class=\"about\">' + data.content + '</div>';\n            }\n\n            for ( i; i < l; i++ ) {\n                if ( typeof media[i].src === 'string' ) {\n                    liString = '<li><img src=\"' + media[i].src + '\" alt=\"' + data.meta.title + '\"></li>';\n                } else {\n                    for ( j = 0, m = media[i].src.length; j < m; j++ ) {\n                        videoSources += '<source src=\"' + media[i].src[j].url + '\" type=\"' + media[i].src[j].mime + '\">'\n                    }\n                    liString = '<li><video controls preload poster=\"' + media[i].poster + '\">'\n                                + videoSources\n                             + '</video></li>';\n                }\n                li.push( liString );\n            }\n            return html + '<ul>' + li.join('') + '</ul>';\n        }\n    }\n});\n","// Backbone.NativeAjax.js 0.3.2 | (c) 2014 Adam Krebs, Paul Miller, Exoskeleton Project | MIT license | https://github.com/akre54/Backbone.NativeAjax\ndefine('xhr',[], function ()\n{\n    var ajax = (function() {\n        var xmlRe = /^(?:application|text)\\/xml/,\n            jsonRe = /^application\\/json/,\n\n            getData = function(accepts, xhr) {\n                if (accepts == null) accepts = xhr.getResponseHeader('content-type');\n                if (xmlRe.test(accepts)) {\n                    return xhr.responseXML;\n                } else if (jsonRe.test(accepts) && xhr.responseText !== '') {\n                    return JSON.parse(xhr.responseText);\n                } else {\n                    return xhr.responseText;\n                }\n            },\n\n            isValid = function(xhr) {\n                return (xhr.status >= 200 && xhr.status < 300) ||\n                    (xhr.status === 304) ||\n                    (xhr.status === 0 && window.location.protocol === 'file:')\n            },\n\n            end = function( xhr, options, resolve, reject )\n            {\n                return function()\n                {\n                    if ( xhr.readyState !== 4 ) return;\n\n                    var status = xhr.status, error,\n                        data = getData( options.headers && options.headers.Accept, xhr );\n\n                    // Check for validity.\n                    if ( isValid( xhr ) ) {\n                        if ( options.success ) options.success( data );\n\n                        if ( resolve ) resolve( data );\n                    } else {\n                        error = new Error( 'Server responded with a status of ' + status );\n                        if ( options.error ) options.error( xhr, status, error );\n                        if ( reject ) reject( xhr );\n                    }\n                }\n            };\n\n        return function ( options )\n        {\n            var key, resolve, reject, xhr;\n\n            if ( options == null ) throw new Error( 'You must provide options' );\n            if ( options.type == null ) options.type = 'GET';\n\n            xhr = new XMLHttpRequest();\n\n            var PromiseFn = ajax.Promise || (typeof Promise !== 'undefined' && Promise);\n            var promise = PromiseFn && new PromiseFn(function(res, rej) {\n                    resolve = res;\n                    reject = rej;\n                });\n\n            options.headers = options.headers || {};\n\n            if (options.contentType) {\n                options.headers['Content-Type'] = options.contentType;\n            }\n\n            // Stringify GET query params.\n            if (options.type === 'GET' && typeof options.data === 'object') {\n                var query = '';\n                var stringifyKeyValuePair = function(key, value) {\n                    return value == null ? '' :\n                    '&' + encodeURIComponent(key) +\n                    '=' + encodeURIComponent(value);\n                };\n                for ( key in options.data ) {\n                    if ( options.data.hasOwnProperty( key ) ) {\n                        query += stringifyKeyValuePair( key, options.data[key] );\n                    }\n                }\n\n                if (query) {\n                    var sep = (options.url.indexOf('?') === -1) ? '?' : '&';\n                    options.url += sep + query.substring(1);\n                }\n            }\n\n            xhr.onreadystatechange = end( xhr, options, resolve, reject );\n\n            xhr.open(options.type, options.url, true);\n\n            var allTypes = \"*/\".concat(\"*\");\n            var xhrAccepts = {\n                \"*\": allTypes,\n                text: \"text/plain\",\n                html: \"text/html\",\n                xml: \"application/xml, text/xml\",\n                json: \"application/json, text/javascript\"\n            };\n\n            xhr.setRequestHeader(\n                \"Accept\",\n                options.dataType && xhrAccepts[options.dataType] ?\n                xhrAccepts[options.dataType] + (options.dataType !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n                    xhrAccepts[\"*\"]\n            );\n\n            if (options.headers) {\n                for ( key in options.headers ) {\n                    if ( !options.headers.hasOwnProperty( key ) ) continue;\n                    xhr.setRequestHeader( key, options.headers[key] );\n                }\n            }\n\n            if (options.beforeSend) options.beforeSend(xhr);\n            xhr.send(options.data);\n\n            return promise;\n        };\n    })();\n    return ajax;\n});\n","define('gistHandle',[], function () {\n    'use strict';\n\n    var w = window,\n        d = w.document;\n\n    w.handleGist = function(r) {\n        d.getElementsByClassName('gist')[0].innerHTML = r.div;\n    };\n\n    function createHandler(id) {\n        w['handleGist_' + id] = (function(id){\n            return function(response){\n                insertStyleSheet(response);\n                insert(response, id);\n            }\n        })(id)\n    }\n\n    function insert(response, id) {\n        var src = d.querySelector('.gist[src*=\"' + id + '\"]'),\n            wrap = d.createElement('div');\n        wrap.innerHTML = response.div;\n        src.parentNode.insertBefore(wrap, src.nextSibling);\n        src.parentNode.removeChild(src);\n    }\n\n    function insertStyleSheet(response) {\n        if (response.stylesheet && !d.querySelector('link[href=\"' + response.stylesheet + '\"]')) {\n            var linkTag = d.createElement('link'),\n                head = d.getElementsByTagName('head')[0];\n            linkTag.type = 'text/css';\n            linkTag.rel = 'stylesheet';\n            linkTag.href = response.stylesheet;\n            head.insertBefore(linkTag, head.firstChild);\n        }\n    }\n\n    function extractId(url) {\n        return url.split('/').pop().replace(/\\.js$/, '');\n    }\n\n    return function (src) {\n        var id = extractId(src),\n            tag = d.createElement('script');\n        tag.src = 'https://gist.github.com/' + id + '.json?callback=handleGist_' + id;\n        createHandler(id);\n        d.body.appendChild(tag);\n    }\n});\n","define('Page',[\n    'app',\n    'templates',\n    'xhr',\n    'gistHandle'\n], function (app, templates, xhr, gistHandle) {\n    'use strict';\n\n    var w = window,\n        d = w.document,\n\n        Page = function (options, state) {\n            var el = options.el || this.getActiveItem(),\n                id = el.id || 'h' + new Date().getTime(), // we need an id to be able to pass the element through history\n                slug = el.getAttribute('href');\n\n            options.id = el.id = id;\n            options.slug = slug;\n            options.column = options.column || app.views.grid.getContentColumn(el);\n\n            this.options = options;\n            this.el = el;\n\n            options.column.scrollTop = 0;\n\n            // this is already done if it was a single page load request\n            if (!(app.initial.isSingle && app.initial.pageLoad)) {\n                this.fetch(options, state);\n                app.toggleCloseBtn(1);\n            } else {\n                this.gaTrackVideo();\n            }\n\n            // on page load and through history,\n            // no need to set state.\n            if (!state && !app.initial.pageLoad) {\n                app.setHistory({\n                    id: id,\n                    title: this.getTitle(options.el),\n                    url: slug\n                });\n            } else if (w._paq && state.time) {\n                w._paq.push(['setGenerationTimeMs', state.time - (new Date()).getTime()]);\n                w._paq.push(['trackPageView']);\n            }\n        };\n\n    Page.prototype = {\n\n        /**\n         * If one page load one of the content columns is open,\n         * it will have a data-slug, which can be used to find it's corresponding item.\n         * @returns {Element}\n         */\n        getActiveItem: function () {\n            var slug = d.querySelector('.open main').getAttribute('data-slug'),\n                item = d.querySelector('a.item[href=\"' + slug + '\"]');\n\n            if (item) {\n                item.classList.add('active');\n            }\n\n            return item;\n        },\n\n        getTitle: function (el) {\n            return el.getAttribute('data-title') || el.getElementsByTagName('h2')[0].textContent\n        },\n\n        fetch: function (options, state) {\n            var self = this;\n\n            this.options.column.innerHTML = templates.main(\n                this.el.getAttribute('data-title'),\n                options.slug,\n                this.el.getAttribute('data-img'),\n                this.el.querySelector('time') ? this.el.querySelector('time').textContent : null\n            );\n\n            if (state) {\n                return this.render(app.data[options.id]);\n            }\n\n            xhr({\n                url: options.slug.replace(/\\/$/, '') + '?get',  // 'blog/title/?get' returns 404\n                success: function (r) {\n                    if (r.errors) {\n                        r.content = '<p class=\"err-xhr\"> SERVER ERROR &mdash; NO DATA RETRIEVED! </p>';\n                    }\n                    app.data[options.id] = r;\n                    self.render(r);\n                },\n                error: function (xhr, status, error) {\n                    self.render({\n                        content: '<p class=\"err-xhr\"> NETWORK ERROR [' + status + '] &mdash; ' + error.toString().toUpperCase() + '! </p>'\n                    });\n                }\n            });\n        },\n\n        render: function (data) {\n            var parent = this.options.column.getElementsByClassName('xhr-root')[0];\n            parent.innerHTML = templates.content(data);\n            this.evalGists(parent);\n            this.gaTrackVideo();\n        },\n\n        evalGists: function (parent) {\n            var tags = parent.getElementsByClassName('gist');\n            app.util.elementArray(tags).forEach(function(tag) {\n                gistHandle(tag.src);\n            })\n        },\n\n        destroy: function () {\n            this.options.column.innerHTML = '';\n        },\n\n        gaTrackVideo : function () {\n            var videos = this.options.column.getElementsByTagName('video'),\n                l = videos.length, i = 0,\n                sentWatched = {},\n                sentPlay = {},\n                play = function () {\n                    // play started, only sent once\n                    if ( !sentPlay[this.currentSrc] ) {\n                        w.ga( 'send', 'event', 'Videos', 'Play', this.currentSrc );\n                        sentPlay[this.currentSrc] = 1;\n                    }\n                },\n                watched = function () {\n                    var currentTime = this.currentTime;\n                    // Watched 75%, only send once\n                    if ( !sentWatched[this.currentSrc] && ( currentTime > 0.75 * ( this.duration ) ) ) {\n                        w.ga( 'send', 'event', 'Videos', 'Watched 75%', this.currentSrc );\n                        sentWatched[this.currentSrc] = 1;\n                    }\n                };\n\n            for ( i; i < l; i++ ) {\n                videos[i].addEventListener( 'play', play );\n                videos[i].addEventListener( 'timeupdate', watched );\n            }\n        }\n    };\n    return Page;\n});\n","define('Grid',[\n    'app',\n    'Page'\n], function (app, Page) {\n    'use strict';\n\n    var w = window,\n        d = w.document,\n        isTouch = app.util.isTouch,\n        mouseTick = false,\n        isShowingThumb = 0,\n\n        requestMouseMoveUpdate = function (e, ctx) {\n            if (!mouseTick) {\n                var self = this;\n                w.requestAnimationFrame(function () {\n                    self.showHoverImage(e, ctx);\n                });\n            }\n            mouseTick = true;\n        },\n\n        Grid = function (options) {\n            var items = options.el.querySelectorAll('a.item, .blog a');\n\n            this.el = options.el;\n            this.thumb = d.getElementById('thumb');\n            this.activeColumn = d.querySelector('.col.open');\n\n            this.bindHandlers(items);\n            this.onTransitionEnd('width');\n        };\n\n    Grid.prototype = {\n\n        bindHandlers: function (items) {\n            var self = this,\n                i = 0, l = items.length,\n                itemClickHandle = function (e) {\n                    if (e.currentTarget.target === '_blank') {\n                        return true;\n                    }\n                    e.preventDefault();\n                    if (!e.currentTarget.classList.contains('active')) {\n                        self.hideThumb();\n                        self.launchPage(e.currentTarget);\n                    } else {\n                        w.history.back();\n                    }\n                },\n                itemMouseMoveHandle = function (e) {\n                    requestMouseMoveUpdate.call(self, e, this);\n                },\n                itemMouseOutHandle = function () {\n                    self.hideThumb();\n                };\n\n            for (i; i < l; i++) {\n                items[i].addEventListener('click', itemClickHandle);\n\n                if (!isTouch && items[i].getAttribute('data-img')) {\n                    items[i].addEventListener('mousemove', itemMouseMoveHandle);\n                    items[i].addEventListener('mouseleave', itemMouseOutHandle);\n                }\n            }\n            if (!isTouch) {\n                self.thumb.addEventListener('mouseenter', itemMouseOutHandle);\n            }\n        },\n\n        /**\n         * @param e\n         * @param item, 'this' passed from event handler, currentTarget didn't work in sf9\n         */\n        showHoverImage: function (e, item) {\n            var src = item.getAttribute('data-img');\n\n            this.thumb.style.top = e.pageY + 'px';\n            this.thumb.style.left = e.pageX + 'px';\n\n            if (isShowingThumb !== src) {\n                this.setThumb(src);\n            }\n\n            mouseTick = false;\n        },\n\n        setThumb: function (src) {\n            isShowingThumb = src;\n            this.thumb.style.display = 'block';\n            this.thumb.innerHTML = '<img src=\"' + src + '\" width=\"150px\">';\n        },\n\n        hideThumb: function () {\n            isShowingThumb = 0;\n            this.thumb.style.display = 'none';\n        },\n\n        onTransitionEnd: function (property) {\n            var self = this;\n\n            this.el.addEventListener('transitionend', function (e) {\n                if (e.propertyName === property) {\n                    if (!self.activeColumn) {\n                        self.onColumnShrunk(e.target);\n                    } else {\n                        self.onColumnExpanded(e.target);\n                    }\n                }\n            });\n        },\n\n        launchPage: function (item, state) {\n            var self = this,\n                contentColumn = self.getContentColumn(item),\n                label = /(blog)/.test(item.href) ? 'blog' : contentColumn.id;\n\n            this.unsetActiveItem();\n\n            item.classList.add('active');\n\n            self.activeColumn = contentColumn;\n            self.activeColumnIndex = app.util.elementIndex(contentColumn);\n\n            app.views.page = new Page({\n                el: item,\n                column: contentColumn\n            }, state);\n\n            switch (label) {\n                case 'online':\n                    self.shiftGrid(contentColumn);\n                    self.expandColumn(contentColumn);\n                    break;\n                case 'offline':\n                    self.shiftGrid(contentColumn);\n                    w.setTimeout(function () {\n                        self.expandColumn(contentColumn);\n                    }, 250);\n                    break;\n                case 'blog':\n                    self.expandColumn(contentColumn, 1);\n                    w.setTimeout(function () {\n                        self.shiftGrid(contentColumn, 1);\n                    }, 200);\n                    break;\n            }\n        },\n\n        getContentColumn: function (item) {\n            var parentColumn = app.util.parent(item, 'section');\n            return d.getElementById(parentColumn.getAttribute('data-id'));\n        },\n\n        expandColumn: function (contentColumn, forBlog) {\n            contentColumn.classList.remove('invisible');\n\n            w.requestAnimationFrame(function () {\n                if (forBlog) {\n                    contentColumn.classList.add('open', 'as-blog');\n                } else {\n                    contentColumn.classList.remove('as-blog');\n                    contentColumn.classList.add('open');\n                }\n            });\n        },\n\n        shiftGrid: function (column, forBlog) {\n            var self = this,\n                leftShift = 0;\n\n            if (app.wWidth >= 780) {\n                switch (column.id) {\n                    case 'online':\n                        leftShift = 0;\n                        break;\n                    case 'offline':\n                        leftShift = forBlog ? 2 : 1;\n                        break;\n                }\n                leftShift = Math.ceil(app.gridWidth * (11 * (leftShift)) / 100);\n            } else {\n                leftShift = self.mobileGridShift();\n            }\n\n            w.requestAnimationFrame(function () {\n                self.el.style.transform = 'translate3d(-' + leftShift + 'px,0,0)';\n            });\n        },\n\n        mobileGridShift: function () {\n            var columnIndex = this.activeColumnIndex > 1 ? this.activeColumnIndex - 1 : 1;\n            return Math.ceil(app.gridWidth * (25 * (columnIndex)) / 100);\n        },\n\n        // transitions disabled on mobile, this is not called\n        onColumnExpanded: function () {\n            this.toggleColumnVisibility(0);\n        },\n\n        shrinkColumn: function (overrideColumnID) {\n            var self = this,\n                column = self.activeColumn;\n\n            if (!column) {\n                return;\n            } // for the mobile nav buttons\n\n            column.classList.remove('open');\n\n            self.unsetActiveItem();\n\n            self.toggleColumnVisibility(1);\n\n            w.requestAnimationFrame(function () {\n                var shift;\n\n                column.classList.remove('open');\n\n                if (app.wWidth >= 780) {\n                    self.el.style.transform = 'translate3d(0,0,0)';\n                } else {\n                    self.activeColumnIndex = overrideColumnID || self.activeColumnIndex;\n                    shift = self.activeColumnIndex === 1 ? 0 : Math.ceil(app.gridWidth * 25 / 100);\n                    self.el.style.transform = 'translate3d(-' + shift + 'px,0,0)';\n                }\n\n                self.activeColumn = null;\n                self.activeColumnIndex = null;\n            });\n        },\n\n        unsetActiveItem: function () {\n            var item = d.querySelector('a.item.active');\n\n            if (item) {\n                item.classList.remove('active');\n            }\n        },\n\n        // transitions disabled on mobile, this is not called\n        onColumnShrunk: function (column) {\n            w.requestAnimationFrame(function () {\n                column.classList.add('invisible');\n                app.views.page.destroy();\n                delete app.views.page;\n            });\n        },\n\n        toggleColumnVisibility: function (show) {\n            var cols = app.util.elementArray(d.getElementsByClassName('col')),\n                activeIndex = this.activeColumnIndex - 1,\n                i = 0;\n\n            cols.splice(activeIndex, 2);\n\n            for (i; i < cols.length; i++) {\n                //cols[i].classList[ show ? 'remove' : 'add' ]( 'invisible' );\n            }\n        }\n    };\n    return Grid;\n});\n",";(function (w) {\n    'use strict';\n\n    var d = w.document,\n        loc = w.location,\n        pathname = loc.pathname;\n\n    require.config({\n        baseUrl: '/resources/js',\n        paths: {\n            xhr: \"vendor/xhr\",\n            goScroll: \"vendor/goScroll\",\n            d1: \"modules/d1\",\n\n            app: \"app\",\n            templates: \"modules/pageTpl\",\n            Grid: \"modules/Grid\",\n            Page: \"modules/Page\",\n            gistHandle: \"modules/gist-handle\"\n        }\n    });\n\n    require(['app', 'Grid', 'Page'], function (app, Grid, Page) {\n        var isWin = !w.navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),\n            state = {\n                pageLoad: 1,\n                isSingle: pathname !== '/' && pathname !== '/index.php' && !d.getElementsByClassName('.err-404').length,\n                siteTitle: d.getElementById('site-title').getAttribute('content'),\n                title: d.title,\n                url: loc.href\n            };\n\n        if (isWin) d.body.classList.add('is-win');\n\n        d.body.classList.add(app.util.isTouch ? 'is-touch' : 'no-touch');\n\n        // History handling\n        if (app.hasHistory) {\n            // On pop state launch view\n            w.addEventListener('popstate', function (e) {\n                // prevent pop state on first load for Safari & Chrome 34-\n                if (!e.state) return;\n                app.handlePopState(e.state);\n            });\n\n            // Replace initial state to store the initial content so we can revisit it later.\n            w.history.replaceState(state, state.title, state.url);\n        }\n\n        // Set up grid\n        app.views.grid = new Grid({\n            el: d.getElementById('grid')\n        });\n\n        // Start\n        app.initialize(state);\n\n        // Set up the page, if needed\n        if (state.isSingle) {\n            app.views.page = new Page({}, state);\n            app.views.grid.shiftGrid(d.querySelector('.col.open'), /(blog)/.test(pathname));\n            app.views.grid.onColumnExpanded();\n        }\n\n        app.initial.pageLoad = 0;\n    });\n})(window);\ndefine(\"index.js\", function(){});\n\n"]}